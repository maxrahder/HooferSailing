["function _71eb2f038d97efd57a14b528ca37b1941fe990b7",50,529676,"device.communicator.Default\",{SERVER_URL:\"http://localhost:3000\",callbackDataMap:{},callbackIdMap:{},idSeed:0,globalScopeId:\"0\",generateId:function(){return String(++this.idSeed)},getId:function(a){var b=a.$callbackId;if(!b){a.$callbackId=b=this.generateId()}return b},getCallbackId:function(h,d){var c=this.callbackIdMap,b=this.callbackDataMap,g,a,f,e;if(!d){a=this.globalScopeId}else{if(d.isIdentifiable){a=d.getId()}else{a=this.getId(d)}}f=this.getId(h);if(!c[a]){c[a]={}}if(!c[a][f]){g=this.generateId();e={callback:h,scope:d};c[a][f]=g;b[g]=e}return c[a][f]},getCallbackData:function(a){return this.callbackDataMap[a]},invoke:function(c,a){var b=this.getCallbackData(c);b.callback.apply(b.scope,a)},send:function(c){var e,d,b,f;if(!c){c={}}else{if(c.callbacks){e=c.callbacks;d=c.scope;delete c.callbacks;delete c.scope;for(b in e){if(e.hasOwnProperty(b)){f=e[b];if(typeof f==\"function\"){c[b]=this.getCallbackId(f,d)}}}}}c.__source=document.location.href;var a=this.doSend(c);return(a&&a.length>0)?JSON.parse(a):null},doSend:function(a){var c=new XMLHttpRequest();c.open(\"GET\",this.SERVER_URL+\"?\"+Ext.Object.toQueryString(a)+\"&_dc=\"+new Date().getTime(),false);try{c.send(null);return c.responseText}catch(b){if(a.failure){this.invoke(a.failure)}else{if(a.callback){this.invoke(a.callback)}}}}});Ext.define(\"Ext.device.communicator.Android\",{extend:Ext.device.communicator.Default,doSend:function(a){return window.Sencha.action(JSON.stringify(a))}});Ext.define(\"Ext.device.Communicator",235702,41,"if(Ext.os.is.Android){return new Ext.device.communicator.Android()}return new Ext.device.communicator.Default()}});Ext.define(\"Ext.device.connec",192760,35,156288,38,"online:false,type:null},UNKNOWN:\"Unknown connection\",ETHERNET:\"Ethernet connection\",WIFI:\"WiFi connection\",CELL_2G:\"Cell 2G connection\",CELL_3G:\"Cell 3G connection\",CELL_4G:\"Cell 4G connection\",NONE:\"No network connection\",isOnline:function(){return this.getOnline()}});Ext.define(\"Ext.device.connection.Sencha\",{extend:Ext.device.connection.Abstract",559325,50,"Ext.device.Communicator.send({command:\"Connection#watch\",callbacks:{callback:this.onConnectionChange},scope:this})},onConnectionChange:function(a){this.setOnline(Boolean(a.online));this.setType(this[a.type]);this.fireEvent(\"onlinechange\",this.getOnline(),this.getType())}});Ext.define(\"Ext.device.connection.Cordova\",{alternateClassName:\"Ext.device.connection.PhoneGap\",extend:Ext.device.connection.Abstract,",610919,33,";document.addEventListener(\"online\",function(){a.fireEvent(\"online\",a)});document.addEventListener(\"offline\",function(){a.fireEvent(\"offline\",a)})},syncOnline:function(){var a=navigator.connection.type;this._type=a;this._online=a!=Connection.NONE},getOnline:function(){this.syncOnline();return this._online},getType:function(){this.syncOnline();return this._type}});Ext.define(\"Ext.device.connection.Simulator\",{extend:Ext.device.connection.Abstract,getOnline:function(){this._online=navigator.onLine;this._type=Ext.device.Connection.UNKNOWN;return this._online}});Ext.define(\"Ext.device.Connection",235702,45,"a=Ext.browser.is;if(a.WebView){if(a.Cordova){return Ext.create(\"Ext.device.connection.Cordova\")}else{if(a.Sencha){return Ext.create(\"Ext.device.connection.Sencha\")}}}return Ext.create(\"Ext.device.connection.Simulator\")",529706,85392,"conditions.Hours\",{extend:Ext.Component,xtype:\"hours\",config:{sunset:\"\",tpl:['<tpl if=\"this.isData(values)\">','<div style=\"text-align:center\">','Sunset {[Ext.Date.format(values.sunset, \"g:i a\")]}',\"</div>\",\"</tpl>\",'<div style=\"text-align:center\">',\"Lake hours: 11:00 am - 8:00 pm\",\"<div>\",{isData:function(a){return !Ext.isEmpty(a)}}]},updateSunset:function(a){this.setData({sunset:a})",619662,36,"view.conditions",615097,901,"conditions",615997,280,"conditions",616276,54,"initialize:function(){this.on(\"painted\",function(){this.fireEvent(\"firsttime",595052,34,"callParent()}",616329,370,616741,46,"'\">','<p style=\"font-size: 3em; margin-bottom: 0;\">',\"<b>{knots}</b> kn\",\"</p`>\",'<p style=\"font-size: 1.5em; margin-top: 0;\">',\"{gusts} kn gusts",616936,188,",{xtype:\"hours\"},",617124,1044,"Conditions\",listeners:{element:\"element\",doubletap:function(){this.fireEvent(\"refreshdata\",this)}}",618169,322,"testout.hoofersailing.org/feed",618516,77,"},})",619662,36,"model.SunriseSunset",618264,45,"sunrise:null,sunset:null",618427,57,"//api.wunderground.com/api/b2e26ece224ebd4d/astronomy/q/WI/Madison.json?_dc=\"+new Date().getTime(),success:function(b,d){var c=b.sun_phase;a.sunrise=moment(c.sunrise.hour+\":\"+c.sunrise.minute,\"H:m\").toDate();a.sunset=moment(c.sunset.hour+\":\"+c.sunset.minute,\"H:m\").toDate();a.fireEvent(\"load\",a,a.sunrise,a.sunset)},failure:function(){},})",619662,36,618654,1419,"||(f===\"Tool",620070,1808,"b){var r=[];var f=[0,0,0];var o=0;var g=b.stamps.length;var u=b.data;var c=b",621954,40,"q=0;q<g;q",622003,33,"q==0)||((q+1)==g))){continue}var k=u[q][0];if(isNaN(k",622089,38,"l;if(a.getWeightedAverage()){l=(u[q-1][1]+u[q][1]+u[q+1][1])/3}else{l=u[q][1]}var j=moment(c[q]+\"Z\").toDate();var s",617418,34,"degreesToRose(k);var p=(l*1.94384);r.push([k,l,j,s,p]);o+=p;var n=u[q][1]*1.94384;for(var h=0;h<f.length;h++){if(n>f[h]){f[h]=p",622403,46,"a.fireEvent(\"fetch\",a);return}if(q>0){var m=u[q-1][2]||u[q-1][3];a.setWaterTemperature(m)}var v=a.getGroups();var e=v[0];Ext.Array.forEach(v",622547,34,"e.children.length){e=d}});a.setWindDirectionRose(e",622631,36,"o",622668,49,"f",622718,65,"store.WindsConditions\",{extend:HooferSailingMobile.store.Winds,config:{symbols:\"dir:spd:wt_1.0:skin",621352,33,"10",621387,118,619662,36,"controller.Condition",622798,80,"Conditions\"],models:[\"Flag\",\"SunriseSunset",622894,65,"hours:\"hours",622957,169,";HooferSailingMobile.model.SunriseSunset.on(\"load\",this.updateSunriseSunset",623120,35,"if(this.getConditionsFlag()",623153,40,",updateSunriseSunset:function(c,b,a){this.getHours().setSunset(a)",619662,36,623227,78,"Condition",622877,49,"},control:{conditions:{refreshdata:\"userRefresh\"}",623341,402,"Conditions:function(){if(Ext.device.Connection.isOnline()){Ext.getStore(\"WindsConditions\").fetch",623824,34,"update(\"checkingtheflag\"",623062,33,"load();HooferSailingMobile.model.SunriseSunset.load()}else{Ext.Msg.alert(\"Error\",\"You are not connected to the Internet.\")}},refreshFleets:function(){if(Ext.device.Connection.isOnline()){",623785,41,"}else{Ext.Msg.alert(\"Error\",\"You are not connected to the Internet.\")}},refresh:function(){if(Ext.device.Connection.isOnline()){this.refreshConditions();this.refreshFleets()}else{Ext.Msg.alert(\"Error\",\"You are not connected to the Internet.\")}},userRefresh:function(){if(Ext.device.Connection.isOnline()){var b=this;var a=Ext.Function.createThrottled(function(c){if(c){b.getConditions().mask()}else{b.getConditions().unmask()}},1000);a(true);Ext.getStore(\"WindsConditions\").on(\"fetch\",function(){a(false)},this,{single:true});this.refresh()",619661,37,"controller.Popups\",{extend:Ext.app.Controller,requires:[],config:{refs:{conditionsFlag:\"conditionsflag\"},control:{conditionsflag:{tap:\"onConditionsFlagTap\"}}},flagText:{\"blue-red\":'Very heavy winds. Only specially-rated sailors may sail. See <a href=\"http://hoofersailing.org/?q=instruction/safety/flags\" target=\"_blank\"> the Ground School Manual</a> for details.',\"blue-yellow\":\"Heavy winds. Only heavy-rated sailors may sail <i>within</i> the yellow line.\",blue:\"Heavy winds. Only heavy-rated sailors may sail.\",checkingtheflag:\"Checking conditions with UW Lifesaving.\",\"green-yellow\":\"Light winds. Sailors with a light weather rating may sail <i>within</i> the yellow line.\",green:\"Light winds. Sailors with a light weather rating may sail.\",none:\"The lake is closed. UW Lifesaving is closed. No sailing.\",red:\"The lake is closed. No sailing.\",\"tango-yellow\":\"Heavy winds. Only heavy-rated sailors may sail <i>within</i> the yellow line. Heavy testouts are being given.\",tango:\"Heavy winds. Only heavy-rated sailors may sail. Heavy testouts are being given.\"},onConditionsFlagTap:function(a){this.conditionsFlagPopup=this.conditionsFlagPopup||Ext.create(\"Ext.Panel\",{xtype:\"panel\",left:0,padding:4,modal:true,hideOnMaskTap:true});var b=a.getColor();this.conditionsFlagPopup.setHtml(this.flagText[b]);this.conditionsFlagPopup.showBy(a)}",623866,105,"Conditions\",\"Refresh\",\"Popups",623986,41,"con",624031,37,"con",624072,38,"con",624114,40,"con",624158,97,"pn",624257,47,624348,43,624303,44,624437,44,624389,46,624481,120,",{style:\"font-size: \"+100*(window.outerHeight/568)+\"%\"}",624601,208]